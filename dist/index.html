<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>jquery.mb.flow</title>
  <link href='css/jquery.mb.flow.min.css' media="all" rel="stylesheet" type="text/css">

</head>
<body>
<header id="top-bar">
  <div id="logo"><img src="assets/images/logo.png"></div>
  <div id="flow-name-placeholder"><h1>Flow Name</h1></div>
  <div id="flows-button-bar">
    <button class="main" id="openFlow" onclick="$.flow.openFlow()"><i class="icon icon-folder"></i>Open</button>
    <button class="main" id="newFlow" onclick="$.flow.addFlow()"><i class="icon icon-plus"></i>New</button>
  </div>
</header>
<section id="wrapper">

  <div id="boards-list-column">
    <div id="boards-list-button-bar">
      <div class="group-label"><span class="name">All Boards</span> <i class="icon small icon-chevron-down boards-group-menu"></i> </div>
      <button id="add-board" class="main small" onclick="$.flow.addBoard()"><i class="icon icon-plus"></i></button>
    </div>
    <ol id="boards-list"></ol>
  </div>

  <div id="draw-area">
    <div id="grid"></div>
    <div id="board"></div>
  </div>

</section>

<script src="http://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
<script type="module" src="jquery.mb.flow.js"></script>
</body>
</html>

<!-------------------------------------------------------
----------------------- TEMPLATES -----------------------
-------------------------------------------------------->

<!-- FLOW NAME                   ----------------------->
<template id="flow-name">
    <div data-flow-id="{{id}}">
        <h1 id="flow_{{id}}" class="name">{{flowName}}</h1>
        <i class="icon icon-ellipsis-v flows-menu menu"></i>
        <button class="" id="openActors" onclick=""><i class="icon icon-meh-o"></i>Actors</button>
        <button class="" id="openVariables" onclick=""><i class="icon icon-code"></i>Variables</button>
    </div>
</template>

<!-- BOARD LIST ELEMENT          ----------------------->
<template id="board-list-element">
    <li id="board_{{id}}" class="board-list-element {{className}}" data-board-id="{{id}}"
        data-board-group="{{boardGroup}}">
        <i class="icon icon-drag_indicator"></i>
        <div class="name" onclick="flowApp.flow.selectBoard('{{id}}')">{{boardName}}</div>
        <i class="icon icon-ellipsis-v board-list-element-menu menu"></i>
    </li>
</template>

<!-- ACTORS LIST                 ----------------------->
<template id="actors">
    <div id="actors-window">
        <button class="" id="addActors" onclick=""><i class="icon icon-plus"></i>Add Actor</button>
        <h1>Actors list</h1>
        <hr>
        <div id="actors-list"></div>
    </div>
</template>


<!-- NODES    ------------------------------------------>


<!-- START NODE                  ----------------------->
<template id="node-start">
    <div id="node_{{nodeId}}" class="node anchorOut" data-type="start" data-flow-id="{{flowId}}"
         data-board-id="{{boardId}}" data-node-id="{{nodeId}}" data-connections-count="{{connectionsCount}}">
        <i class="icon icon-caret-right"></i>
    </div>
</template>

<!-- Random NODE                  ----------------------->
<template id="node-random">
    <div id="node_{{nodeId}}" class="node anchorOut" data-type="random" data-flow-id="{{flowId}}"
         data-board-id="{{boardId}}" data-node-id="{{nodeId}}" data-connections-count="{{connectionsCount}}">
        <i class="icon icon-random"></i>
    </div>
</template>

<!-- TEXT NODE                   ----------------------->
<template id="node-text">
    <div id="node_{{nodeId}}" class="node anchorOut" data-type="text" data-flow-id="{{flowId}}"
         data-board-id="{{boardId}}" data-node-id="{{nodeId}}" data-connections-count="{{connectionsCount}}">
        <div class="menu">
            <div class="node-button-bar"><i class="icon icon-commenting node-icon"></i> <i class="icon icon-list-ol"></i><i class="icon icon-user actor-menu"></i><span class="actor-name">Actor Name</span></div>
            <i class="icon icon-ellipsis-v node-menu"></i>
        </div>
        <div class="node-content">{{lines}}</div>
    </div>
</template>

<!-- TEXT NODE LINE -->
<template id="node-text-line">
    <div class="node-content-line line" data-node-id="{{nodeId}}" data-node-element-id="{{nodeElementId}}">
        <div class="node-text" contenteditable="true">{{content}}</div>
        <!--<div class="variables" contenteditable="true"></div>-->
    </div>
</template>

<!-- NOTE NODE                   ----------------------->
<template id="node-note">
    <div id="node_{{nodeId}}" class="node anchorOut" data-type="note" data-flow-id="{{flowId}}"
         data-board-id="{{boardId}}" data-node-id="{{nodeId}}" data-connections-count="{{connectionsCount}}">
        <div class="menu">
            <div class="node-button-bar"><i class="icon icon-thumb-tack node-icon"></i></div>
        </div>
        <div class="node-content">{{lines}}</div>
    </div>
</template>
<!-- NOTE NODE LINE -->
<template id="node-note-line">
    <div class="node-content-line line" data-node-id="{{nodeId}}" data-node-element-id="{{nodeElementId}}">
        <div class="node-text" contenteditable="true">{{content}}</div>
    </div>
</template>

<!-- CHOICE NODE                ----------------------->
<template id="node-choice">
    <div id="node_{{nodeId}}" class="node" data-type="choice" data-flow-id="{{flowId}}" data-board-id="{{boardId}}"
         data-node-id="{{nodeId}}" data-connections-count="{{connectionsCount}}">
        <div class="menu">
            <div class="node-button-bar"><i class="icon icon-th-list node-icon"></i></div>
            <i class="icon icon-ellipsis-v node-menu"></i>
        </div>
        <div class="node-content">{{lines}}</div>
    </div>
</template>

<!-- CHOICE NODE LINE -->
<template id="node-choice-line">
    <div class="node-content-line line anchorOut" data-node-id="{{nodeId}}" data-node-element-id="{{nodeElementId}}">
        <div class="node-text" contenteditable="true">{{content}}</div>
        <!--<div class="variables" contenteditable="true">{{variables}}</div>-->
        <div class="anchor"></div>
    </div>
</template>

<!-- CONDITIONAL NODE                   ----------------------->
<template id="node-condition">
    <div id="node_{{nodeId}}" class="node" data-type="condition" data-flow-id="{{flowId}}" data-board-id="{{boardId}}"
         data-node-id="{{nodeId}}" data-connections-count="{{connectionsCount}}">
        <div class="menu">
            <div class="node-button-bar"><i class="icon icon-sitemap node-icon"></i></div>
            <i class="icon icon-ellipsis-v node-menu"></i>
        </div>
        <div class="node-content">{{lines}}</div>
    </div>
</template>

<!-- CONDITIONAL NODE LINE -->
<template id="node-condition-line">
    <div class="node-content-line line anchorOut" data-flow-id="{{flowId}}" data-board-id="{{boardId}}" data-node-id="{{nodeId}}" data-node-element-id="{{nodeElementId}}" data-connections-count="{{connectionsCount}}">
        <div class="node-text" contenteditable="true">{{content}}</div>
        <div class="anchor"></div>
    </div>
</template>

